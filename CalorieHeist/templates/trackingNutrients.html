{% extends 'base.html' %} {% block content %}

<button
  class="btn btn-primary"
  type="button"
  data-bs-toggle="offcanvas"
  data-bs-target="#offcanvasRight"
  aria-controls="offcanvasRight"
>
  Add nutrients intake
</button>

<a href="/weekly">Weekly</a>

<div
  class="offcanvas offcanvas-end"
  tabindex="-1"
  id="offcanvasRight"
  aria-labelledby="offcanvasRightLabel"
>
  <div class="offcanvas-header">
    <h5 id="offcanvasRightLabel">Enter nutrients intake for different meals</h5>
  </div>
  <div class="offcanvas-body">
    <form action="/trackingMealNutrients" method="post">
      {%csrf_token%}
      <div class="mb-3">
        <label for="meal" class="form-label">Meal</label>
        <select
          class="form-select"
          aria-label="Default select example"
          id="meal"
          name="meal"
        >
          <option value="breakfast">Breakfast</option>
          <option value="lunch">Lunch</option>
          <option value="snacks">Snacks</option>
          <option value="dinner">Dinner</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="calorie" class="form-label">Calories</label>
        <input type="number" class="form-control" id="calorie" name="calorie" />
      </div>
      <div class="mb-3">
        <label for="protein" class="form-label">Protein</label>
        <input type="number" class="form-control" id="protein" name="protein" />
      </div>
      <div class="mb-3">
        <label for="fat" class="form-label">Fat</label>
        <input type="number" class="form-control" id="fat" name="fat" />
      </div>
      <div class="mb-3">
        <label for="fiber" class="form-label">Fiber</label>
        <input type="number" class="form-control" id="fiber" name="fiber" />
      </div>
      <button type="submit" type="button" class="btn btn-primary">
        Submit
      </button>
    </form>
  </div>
</div>

<h4>Calorie</h4>
<canvas id="myChart1" width="400" height="100"></canvas>
<h4>Protein</h4>
<canvas id="myChart2" width="400" height="100"></canvas>
<h4>Fat</h4>
<canvas id="myChart3" width="400" height="100"></canvas>
<h4>Fiber</h4>
<canvas id="myChart4" width="400" height="100"></canvas>

<script>
  var ctx = document.getElementById("myChart1").getContext("2d");
  var myChart1 = new Chart(ctx, {
    type: "bar",
    data: {
      labels: [{% for m in meals %}
                '{{m.meal}}',
              {% endfor %}],
      datasets: [
        {
          label: "# of Votes",
          data: [{% for m in meals %}
                    {{m.calorie}},
                    {% endfor %}],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
   var ctx2 = document.getElementById("myChart2").getContext("2d");
  var myChart2 = new Chart(ctx2, {
    type: "bar",
    data: {
      labels: [{% for m in meals %}
                '{{m.meal}}',
              {% endfor %}],
      datasets: [
        {
          label: "# of Votes",
          data: [{% for m in meals %}
                    {{m.protein}},
                    {% endfor %}],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
  var ctx3 = document.getElementById("myChart3").getContext("2d");
  var myChart3 = new Chart(ctx3, {
    type: "bar",
    data: {
      labels: [{% for m in meals %}
                '{{m.meal}}',
              {% endfor %}],
      datasets: [
        {
          label: "# of Votes",
          data: [{% for m in meals %}
                    {{m.fat}},
                    {% endfor %}],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
  var ctx4 = document.getElementById("myChart4").getContext("2d");
  var myChart4= new Chart(ctx4, {
    type: "bar",
    data: {
      labels: [{% for m in meals %}
                '{{m.meal}}',
              {% endfor %}],
      datasets: [
        {
          label: "# of Votes",
          data: [{% for m in meals %}
                    {{m.fiber}},
                    {% endfor %}],
          backgroundColor: [
            "rgba(255, 99, 132, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
          ],
          borderColor: [
            "rgba(255, 99, 132, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
</script>

{% endblock content %}
